{% extends 'base.html' %}
{% from 'bootstrap5/form.html' import render_form %}

{% block content %}
    <div class="container-fluid d-flex justify-content-center">
        <div class="w-100" style="max-width: 400px;">
            <div class="page-header mt-5 mb-5 text-center">
                <h1>{{ heading }}</h1>
            </div>

            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    {% for message in messages %}
                        <div class="row mt-3 mb-3">
                            <div class="col-12">
                                <div class="alert alert-info text-center">{{ message }}</div>
                            </div>
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}

            <div class="row">
                <div class="col-12 mt-2">
                    {{ render_form(form, novalidate=True) }}
                </div>
            </div>

            {% if heading|lower == 'log in' %}
                <div class="col-12 mt-5 mb-5 text-center">
                    <p>New user? <a href="{{ url_for('auth.register') }}">Click here to register</a>.</p>
                </div>
            {% else %}
                <div class="col-12 mt-5 mb-5 text-center">
                    <p>Already have an account? <a href="{{ url_for('auth.login') }}">Click here to log in</a>.</p>
                </div>
            {% endif %}
        </div>
    </div>
{% endblock %}